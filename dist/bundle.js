(()=>{"use strict";var t={586:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=s(496);e.default=class{constructor(t){this.canvas=t,this.context=t.getContext("2d"),this.interval=null,this.state={frames:0,gravity:.3,gravitySpeed:-2,posY:100,posX:20,scale:1.25,spriteIndex:0,fps:60,size:{width:0,heigth:0}},this.sprites=[(0,i.createImage)("./images/upflap.png"),(0,i.createImage)("./images/midflap.png"),(0,i.createImage)("./images/downflap.png")],this.canvas.addEventListener("click",(t=>this.handleClick(t)))}draw(t,e){this.clearRect(),this.state.size={width:e.width*this.state.scale,heigth:e.height*this.state.scale},t.drawImage(e,this.state.posX,this.state.posY,this.state.size.width,this.state.size.heigth)}clearRect(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}updateSpriteIndex(t){this.state.frames%t==0&&(this.state.spriteIndex=(this.state.spriteIndex+1)%this.sprites.length)}checkGroundCollision(){return!(this.state.posY<=this.canvas.height-this.state.size.heigth)}simulateColision(){this.state.gravitySpeed+=this.state.gravity,this.state.posY+=this.state.gravitySpeed}gameOver(){this.state.posY=this.canvas.height-this.state.size.heigth,clearInterval(this.interval),this.updateFrame()}updateFrame(){this.state.frames++,this.updateSpriteIndex(8),this.draw(this.context,this.sprites[this.state.spriteIndex]),this.checkGroundCollision()?this.gameOver():this.simulateColision()}handleClick(t){this.state.gravitySpeed=-7}loop(){this.interval=setInterval((()=>this.updateFrame()),1e3/this.state.fps)}render(){this.draw(this.context,this.sprites[this.state.spriteIndex])}start(){this.loop()}}},496:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createImage=function(t){const e=new Image;return e.src=t,e}},748:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=i(s(586)),h=document.getElementById("game"),r=new a.default(h);document.addEventListener("DOMContentLoaded",(()=>{setTimeout((()=>r.render()),10),r.start()}))}},e={};!function s(i){var a=e[i];if(void 0!==a)return a.exports;var h=e[i]={exports:{}};return t[i].call(h.exports,h,h.exports,s),h.exports}(748)})();