(()=>{"use strict";var t={586:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=s(496);e.default=class{constructor(t){this.canvas=t,this.context=t.getContext("2d"),this.interval=null,this.scale=1.25,this.state={frames:0,gravity:.3,gravitySpeed:-2,posY:100,posX:20,spriteIndex:0,fps:60,size:{width:34*this.scale,heigth:24*this.scale}},this.hitbox=!0,this.sprites=[(0,i.createImage)("./images/upflap.png"),(0,i.createImage)("./images/midflap.png"),(0,i.createImage)("./images/downflap.png")],this.canvas.addEventListener("click",(t=>this.handleClick(t)))}showHitBox(t){t.strokeStyle="red",t.strokeRect(this.state.posX,this.state.posY,this.state.size.width,this.state.size.heigth)}draw(t,e){this.hitbox&&this.showHitBox(t),t.drawImage(e,this.state.posX,this.state.posY,this.state.size.width,this.state.size.heigth),t.restore()}clearRect(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}updateSpriteIndex(t){this.state.frames%t==0&&(this.state.spriteIndex=(this.state.spriteIndex+1)%this.sprites.length)}checkGroundCollision(){return!(this.state.posY<=this.canvas.height-this.state.size.heigth)}simulateGravity(){this.state.gravitySpeed+=this.state.gravity,this.state.posY+=this.state.gravitySpeed}gameOver(){this.state.posY=this.canvas.height-this.state.size.heigth,clearInterval(this.interval),this.updateFrame()}updateFrame(){this.state.frames++,this.updateSpriteIndex(8),this.clearRect(),this.draw(this.context,this.sprites[this.state.spriteIndex]),this.checkGroundCollision()?this.gameOver():this.simulateGravity()}handleClick(t){this.state.gravitySpeed=-7}loop(){this.interval=setInterval((()=>this.updateFrame()),1e3/this.state.fps)}render(){this.draw(this.context,this.sprites[this.state.spriteIndex])}start(){this.loop()}}},496:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createImage=function(t){const e=new Image;return e.src=t,e}},748:function(t,e,s){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=i(s(586));document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("game"),e=new a.default(t);setTimeout((()=>e.render()),10),e.start()}))}},e={};!function s(i){var a=e[i];if(void 0!==a)return a.exports;var h=e[i]={exports:{}};return t[i].call(h.exports,h,h.exports,s),h.exports}(748)})();