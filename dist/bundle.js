(()=>{"use strict";var t={213:(t,s)=>{var e;Object.defineProperty(s,"__esModule",{value:!0}),s.AudioEffects=s.AudioStatus=void 0,function(t){t.Play="play",t.Pause="pause"}(e||(s.AudioStatus=e={})),s.AudioEffects=class{constructor(t){this.path=t,this.audio=new Audio(t)}setStatus(t){this.audio.currentTime=0,t===e.Play?this.audio.play():this.audio.pause()}}},586:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0});const i=e(213),a=e(496);s.default=class{constructor(t){this.canvas=t,this.context=t.getContext("2d"),this.interval=null,this.scale=1.25,this.hitbox=!1,this.state={frames:0,gravity:.3,gravitySpeed:-2,posY:100,posX:20,spriteIndex:0,fps:60,size:{width:34*this.scale,height:24*this.scale}},this.sprites=[(0,a.createImage)("./images/upflap.png"),(0,a.createImage)("./images/midflap.png"),(0,a.createImage)("./images/downflap.png")],this.audios={wing:new i.AudioEffects("./audios/wing.wav")},this.canvas.addEventListener("click",(t=>this.handleClick(t)))}showHitBox(t){t.strokeStyle="red",t.strokeRect(this.state.posX,this.state.posY,this.state.size.width,this.state.size.height)}draw(t,s){this.hitbox&&this.showHitBox(t),t.drawImage(s,this.state.posX,this.state.posY,this.state.size.width,this.state.size.height)}clearRect(){this.context.clearRect(this.state.posX,this.state.posY,this.state.size.width,this.state.size.height)}updateSpriteIndex(t){this.state.frames%t==0&&(this.state.spriteIndex=(this.state.spriteIndex+1)%this.sprites.length)}checkGroundCollision(){return!(this.state.posY<=this.canvas.height-this.state.size.height)}simulateGravity(){this.state.gravitySpeed+=this.state.gravity,this.state.posY+=this.state.gravitySpeed}gameOver(){this.state.posY=this.canvas.height-this.state.size.height,clearInterval(this.interval),this.updateFrame()}updateFrame(){this.state.frames++,this.updateSpriteIndex(8),this.draw(this.context,this.sprites[this.state.spriteIndex]),this.checkGroundCollision()?this.gameOver():this.simulateGravity()}handleClick(t){this.state.posY<=0-this.state.size.height||(this.audios.wing.setStatus(i.AudioStatus.Play),this.state.gravitySpeed=-7)}loop(){this.interval=setInterval((()=>this.updateFrame()),1e3/this.state.fps)}render(){}start(){this.loop()}}},475:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0});const i=e(496);s.default=class{constructor(t){this.canvas=t,this.context=t.getContext("2d"),this.state={fps:60,scenarioName:"default-day",posX:[0,t.width]},this.sprite=(0,i.createImage)(`./images/scenarios/${this.state.scenarioName}.png`)}draw(t,s){this.state.posX.forEach((e=>{t.drawImage(s,e,0,this.canvas.width,this.canvas.height)}))}setScenario(t,s){this.state.scenarioName=t;const e=(0,i.createImage)(`./images/scenarios/${t}.png`);e.onload=()=>s&&s(e)}clearRect(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}infiniteScenarioLoop(t){this.state.posX[0]--,this.state.posX[1]--,-1*this.state.posX[0]<=this.canvas.width||(this.state.posX[0]=this.canvas.width),this.state.posX[1]<=-1*this.canvas.width&&(this.state.posX[1]=this.canvas.width),this.draw(this.context,this.sprite),t&&t()}loop(){this.interval=setInterval((()=>this.infiniteScenarioLoop()),1e3/this.state.fps)}render(){this.sprite.onload=()=>this.draw(this.context,this.sprite)}}},496:(t,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createImage=function(t){const s=new Image;return s.src=t,s}},748:function(t,s,e){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const a=i(e(586)),h=i(e(475)),o=document.getElementById("game"),r=new h.default(o),n=new a.default(o);r.render(),r.loop(),n.loop()}},s={};!function e(i){var a=s[i];if(void 0!==a)return a.exports;var h=s[i]={exports:{}};return t[i].call(h.exports,h,h.exports,e),h.exports}(748)})();