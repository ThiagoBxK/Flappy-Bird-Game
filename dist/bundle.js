(()=>{"use strict";var t={213:(t,s)=>{var e;Object.defineProperty(s,"__esModule",{value:!0}),s.AudioEffects=s.AudioStatus=void 0,function(t){t.Play="play",t.Pause="pause"}(e||(s.AudioStatus=e={})),s.AudioEffects=class{constructor(t){this.path=t,this.audio=new Audio(t)}setStatus(t){this.audio.currentTime=0,t===e.Play?this.audio.play():this.audio.pause()}}},586:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0});const i=e(213),a=e(496);s.default=class{constructor(t,s){this.canvas=t,this.context=t.getContext("2d"),this.scale=1.25,this.state={frames:0,gravity:.3,gravitySpeed:-2,posY:100,posX:20,spriteIndex:0,fps:s.fps,size:{width:34*this.scale,height:24*this.scale}},this.sprites=[(0,a.createImage)("./images/sprites/bird/upflap.png"),(0,a.createImage)("./images/sprites/bird/midflap.png"),(0,a.createImage)("./images/sprites/bird/downflap.png")],this.audios={wing:new i.AudioEffects("./audios/wing.wav")},this.canvas.addEventListener("click",(t=>this.handleClick(t)))}draw(){this.context.drawImage(this.sprites[this.state.spriteIndex],this.state.posX,this.state.posY,this.state.size.width,this.state.size.height)}updateSpriteIndex(t){this.state.frames%t==0&&(this.state.spriteIndex=(this.state.spriteIndex+1)%this.sprites.length)}simulateGravity(){this.state.gravitySpeed+=this.state.gravity,this.state.posY+=this.state.gravitySpeed}updateFrame(){this.state.frames++,this.updateSpriteIndex(8),this.draw(),this.simulateGravity()}setDiePosition(){this.state.posY=this.canvas.height-this.state.size.height,this.updateFrame()}handleClick(t){this.audios.wing.setStatus(i.AudioStatus.Play),this.state.gravitySpeed=-7}render(){this.sprites[0].onload=()=>this.draw()}}},883:function(t,s,e){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const a=i(e(586)),r=i(e(370)),h=i(e(475));s.default=class{constructor(t,s){this.canvas=t,this.scenario=new h.default(t,s),this.ground=new r.default(t,s),this.bird=new a.default(t,s),this.interval=void 0,this.state={fps:s.fps,speed:s.speed}}checkGroundColision(){return this.bird.state.posY>=this.canvas.height-.8*this.ground.groundSize-this.bird.state.size.height}loop(){this.checkGroundColision()&&(this.bird.state.posY=this.canvas.height-this.ground.groundSize-4,this.lose()),this.scenario.updateFrame(),this.ground.updateFrame(),this.bird.updateFrame()}start(){this.interval=setInterval((()=>this.loop()),1e3/this.state.fps)}lose(){clearInterval(this.interval)}render(){this.scenario.render(),this.ground.render(),this.bird.render()}}},370:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0});const i=e(496);s.default=class{constructor(t,s){this.canvas=t,this.context=t.getContext("2d"),this.groundSize=128,this.state={groundSpeed:s.speed,posX:[0,t.width],posY:[t.height-.8*this.groundSize,t.height-.8*this.groundSize]},this.sprite=(0,i.createImage)("./images/sprites/ground.png")}draw(){this.state.posX.forEach(((t,s)=>{this.context.drawImage(this.sprite,t,this.state.posY[s],this.canvas.width,this.groundSize)}))}updateFrame(){this.state.posX[0]-=this.state.groundSpeed,this.state.posX[1]-=this.state.groundSpeed,Math.abs(this.state.posX[0])>=this.canvas.width?this.state.posX[0]=this.canvas.width:Math.abs(this.state.posX[1])>=this.canvas.width&&(this.state.posX[1]=this.canvas.width),this.draw()}render(){this.sprite.onload=()=>this.draw()}}},475:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0});const i=e(496);s.default=class{constructor(t,s){this.canvas=t,this.context=t.getContext("2d"),this.state={scenarioSpeed:s.speed,scenarioName:"default-day",posX:[0,t.width]},this.sprite=(0,i.createImage)(`./images/sprites/scenarios/${this.state.scenarioName}.png`)}draw(){this.state.posX.forEach(((t,s)=>{this.context.drawImage(this.sprite,t,0,this.canvas.width,this.canvas.height)}))}updateFrame(){this.state.posX[0]-=this.state.scenarioSpeed,this.state.posX[1]-=this.state.scenarioSpeed,Math.abs(this.state.posX[0])>=this.canvas.width?this.state.posX[0]=this.canvas.width:Math.abs(this.state.posX[1])>=this.canvas.width&&(this.state.posX[1]=this.canvas.width),this.draw()}render(){this.sprite.onload=()=>this.draw()}}},496:(t,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createImage=function(t){const s=new Image;return s.src=t,s}},748:function(t,s,e){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const a=i(e(883)),r=document.getElementById("game"),h=new a.default(r,{speed:1,fps:60});h.render(),h.start()}},s={};!function e(i){var a=s[i];if(void 0!==a)return a.exports;var r=s[i]={exports:{}};return t[i].call(r.exports,r,r.exports,e),r.exports}(748)})();