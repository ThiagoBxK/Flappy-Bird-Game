(()=>{"use strict";var t={213:(t,s)=>{var e;Object.defineProperty(s,"__esModule",{value:!0}),s.AudioEffects=s.AudioStatus=void 0,function(t){t.Play="play",t.Pause="pause"}(e||(s.AudioStatus=e={})),s.AudioEffects=class{constructor(t){this.path=t,this.audio=new Audio(t)}setStatus(t){this.audio.currentTime=0,t===e.Play?this.audio.play():this.audio.pause()}}},586:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0});const i=e(213),a=e(496);s.default=class{constructor(t,s){this.canvas=t,this.context=t.getContext("2d"),this.state={frames:0,gravity:.3,gravitySpeed:-2,posY:100,posX:20,spriteIndex:0,status:s.status,fps:s.fps,size:{width:34*1.15,height:24*1.15}},this.sprites=[(0,a.createImage)("./images/sprites/bird/upflap.png"),(0,a.createImage)("./images/sprites/bird/midflap.png"),(0,a.createImage)("./images/sprites/bird/downflap.png")],this.audios={wing:new i.AudioEffects("./audios/wing.wav")}}draw(){this.context.drawImage(this.sprites[this.state.spriteIndex],this.state.posX,this.state.posY,this.state.size.width,this.state.size.height)}updateSpriteIndex(t){this.state.frames%t==0&&(this.state.spriteIndex=(this.state.spriteIndex+1)%this.sprites.length)}simulateGravity(){this.state.gravitySpeed+=this.state.gravity,this.state.posY+=this.state.gravitySpeed}updateFrame(){this.state.frames++,this.updateSpriteIndex(8),this.simulateGravity(),this.draw()}handleClick(t){this.audios.wing.setStatus(i.AudioStatus.Play),this.state.gravitySpeed=-5}render(){this.draw()}}},883:function(t,s,e){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const a=i(e(586)),h=i(e(370)),r=i(e(357)),p=i(e(475));s.default=class{constructor(t){this.canvas=t,this.context=t.getContext("2d"),this.interval=void 0,this.state={status:"home",fps:60,speed:1},this.background=new p.default(t,this.state),this.ground=new h.default(t,this.state),this.bird=new a.default(t,this.state),this.pipe=new r.default(t,this.state)}updateFrame(){if(this.ground.checkColision(this.bird.state))return this.over();this.background.updateFrame(),this.bird.updateFrame(),this.pipe.updateFrame(),this.ground.updateFrame(),this.context.font="12px Montserrat",this.context.fillStyle="#000",this.context.fillText("By: Thiago Soares",15,this.canvas.height-15)}changeStatus(t){this.state.status=t}over(){this.changeStatus("gameover"),clearInterval(this.interval)}handleClick(t){"playing"===this.state.status&&this.bird.handleClick(t)}start(){this.changeStatus("playing"),this.interval=setInterval((()=>this.updateFrame()),1e3/this.state.fps)}render(){setTimeout((()=>{this.pipe.render(),this.background.render(),this.ground.render(),this.bird.render()}),100)}}},370:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0});const i=e(496);s.default=class{constructor(t,s){this.canvas=t,this.context=t.getContext("2d"),this.state={status:s.status,fps:s.fps,speed:s.speed,height:96,width:t.width},this.sprites=[{image:(0,i.createImage)("./images/sprites/ground.png"),posX:0,posY:t.height-this.state.height},{image:(0,i.createImage)("./images/sprites/ground.png"),posX:t.width,posY:t.height-this.state.height}]}draw(){this.sprites.forEach((t=>{this.context.drawImage(t.image,t.posX,t.posY,this.state.width,this.state.height)}))}checkColision(t){return t.posY>=this.canvas.height-this.state.height-t.size.height-t.gravitySpeed}updateFrame(){this.sprites[0].posX-=this.state.speed,this.sprites[1].posX-=this.state.speed,Math.abs(this.sprites[0].posX)>=this.canvas.width?this.sprites[0].posX=this.canvas.width:Math.abs(this.sprites[1].posX)>=this.canvas.width&&(this.sprites[1].posX=this.canvas.width),this.render()}render(){this.draw()}}},357:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0});const i=e(496);s.default=class{constructor(t,s){this.canvas=t,this.context=t.getContext("2d"),this.sprite=(0,i.createImage)("./images/sprites/pipe.png"),this.state={frames:0,status:s.status,fps:s.fps,speed:s.speed,height:2e3,width:48,createPipeInterval:200},this.pipes=[{posX:t.width-10,posY:[0,t.width+0]}]}draw(){this.pipes.forEach((t=>{this.context.drawImage(this.sprite,t.posX,t.posY,this.state.width,this.canvas.height)}))}checkColision(t){}createPipe(){this.pipes.push({posX:this.canvas.width-10,posY:90*Math.random()*-1})}updateFrame(){this.state.frames++,this.state.frames%this.state.createPipeInterval==0&&this.createPipe(),this.pipes.forEach(((t,s)=>this.pipes[s].posX-=this.state.speed)),this.render()}render(){this.draw()}}},475:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0});const i=e(496);s.default=class{constructor(t,s){this.canvas=t,this.context=t.getContext("2d"),this.state={status:s.status,fps:s.fps,speed:s.speed},this.sprites=[{image:(0,i.createImage)("./images/sprites/scenarios/default-day.png"),posX:0,posY:0},{image:(0,i.createImage)("./images/sprites/scenarios/default-day.png"),posX:t.width,posY:0}]}draw(){this.sprites.forEach((t=>{this.context.drawImage(t.image,t.posX,t.posY,this.canvas.width,this.canvas.height)}))}updateFrame(){this.sprites[0].posX-=this.state.speed,this.sprites[1].posX-=this.state.speed,Math.abs(this.sprites[0].posX)>=this.canvas.width?this.sprites[0].posX=this.canvas.width:Math.abs(this.sprites[1].posX)>=this.canvas.width&&(this.sprites[1].posX=this.canvas.width),this.render()}render(){this.draw()}}},496:(t,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createImage=function(t){const s=new Image;return s.src=t,s}},748:function(t,s,e){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const a=i(e(883)),h=document.getElementById("game"),r=new a.default(h);r.render(),r.start(),h.addEventListener("click",(t=>{r.handleClick(t)}))}},s={};!function e(i){var a=s[i];if(void 0!==a)return a.exports;var h=s[i]={exports:{}};return t[i].call(h.exports,h,h.exports,e),h.exports}(748)})();